<%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"%>
<%@ include file="../common/head.jspf"%>
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %>
<%@ taglib prefix="fn" uri="http://java.sun.com/jsp/jstl/functions" %>
<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>ÏïºÍµ¨ Ìå¨ Î©îÏù∏ ÌéòÏù¥ÏßÄ</title>
  <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
  <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
  <link href="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.css" rel="stylesheet" />
  <script src="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.js"></script>
  <style>
     * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: 'Ownglyph_ParkDaHyun', sans-serif;
      background-color: #f7f0e9;
      overflow-x: hidden;
    }
    section {
      width: 100vw;
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      flex-direction: column;
      padding: 60px 20px;
    }
     .hero {
  position: relative;
  z-index: 0; /* Î™ÖÌôïÌïòÍ≤å ÏÑ§Ï†ï */
  width: 100vw;
  height: 100vh;
  overflow: hidden;
}
 .video-background {
  position: absolute;
  top: 50%;
  left: 2.5%;
  width: 177.77vh;
  height: 100vh;
  max-width: 100vw;
  transform: translate(-50%, -50%);
  overflow: hidden;
  z-index: -1;
}

.content {
  position: relative;
  z-index: 10; /* Îçî ÌÅ¨Í≤å */
  color: white;
  text-align: center;
  padding: 2rem;
}

.video-background iframe {
  width: 100%;
  height: 100%;
  pointer-events: none;
  display: block;
}
    .section-title {
      font-size: 2rem;
      margin-bottom: 20px;
    }
    .swiper-section {
      width: 90%;
      max-width: 1000px;
    }
.swiper-card {
  background: #ffffff;
  border: 1px solid #e0e0e0;
  border-radius: 10px;
  padding: 16px;
  height: 100px;
  display: flex;
  flex-direction: column;
  justify-content: center;
  transition: box-shadow 0.2s ease;
  text-align: center;
}

.swiper-card:hover {
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.08);
}

.swiper-card-title {
  font-size: 1rem;
  font-weight: 600;
  margin-bottom: 8px;
}

.swiper-card div {
  font-size: 0.9rem;
}

.highlight {
  border: 2px solid #ffa500;
  background-color: #fffdf4;
}
    .news-card {
      background-size: cover;
      background-position: center;
      height: 200px;
      display: flex;
      align-items: end;
      padding: 16px;
      color: white;
      border-radius: 12px;
      text-shadow: 1px 1px 4px rgba(0,0,0,0.7);
    }
.btn-action {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  color: #fff;
  padding: 12px 20px;
  font-size: 1rem;
  border: none;
  border-radius: 12px;
  cursor: pointer;
  box-shadow: 0 4px 10px rgba(0,0,0,0.1);
  transition: filter 0.2s, transform 0.2s;
}

.btn-action:hover {
  filter: brightness(85%);
  transform: translateY(-2px);
}

  .btn-group {
    display: flex;
    gap: 16px;
    margin-top: 30px;
  }
  </style>
</head>
<body class="m-0" style="background-color: #f7f0e9;">

<c:choose>
    <c:when test="${rq.loginedTeam == null}">
        <section class="bg-cover bg-repeat"
                 style="background-image: url('/images/bg12.png'); cursor: url('/images/cursor0.png') 25 25, auto; background-repeat: repeat; background-size: auto;">
    </c:when>
    <c:when test="${rq.loginedTeam eq 'ÌïúÌôî Ïù¥Í∏ÄÏä§'}">
        <section class="bg-cover bg-repeat"
                 style="background-image: url('/images/bg21.png'); cursor: url('/images/cursor2.png') 25 25, auto; background-repeat: repeat; background-size: auto;">
    </c:when>
    <c:when test="${rq.loginedTeam eq 'ÎëêÏÇ∞ Î≤†Ïñ¥Ïä§'}">
        <section class="bg-cover bg-repeat"
                 style="background-image: url('/images/bg22.png') cursor: url('/images/cursor3.png') 25 25, auto; background-repeat: repeat; background-size: auto;">
    </c:when>
        <c:when test="${rq.loginedTeam eq 'Î°ØÎç∞ ÏûêÏù¥Ïñ∏Ï∏†'}">
        <section class="bg-cover bg-repeat"
                 style="background-image: url('/images/bg23.png') cursor: url('/images/cursor4.png') 25 25, auto; background-repeat: repeat; background-size: auto;">
    </c:when>
        <c:when test="${rq.loginedTeam eq 'LG Ìä∏ÏúàÏä§'}">
        <section class="bg-cover bg-repeat"
                 style="background-image: url('/images/bg24.png'); cursor: url('/images/cursor5.png') 25 25, auto; background-repeat: repeat; background-size: auto;">
    </c:when>
        <c:when test="${rq.loginedTeam eq 'ÏÇºÏÑ± ÎùºÏù¥Ïò®Ï¶à'}">
        <section class="bg-cover bg-repeat"
                 style="background-image: url('/images/bg25.png'); cursor: url('/images/cursor6.png') 25 25, auto; background-repeat: repeat; background-size: auto;">
    </c:when>
        <c:when test="${rq.loginedTeam eq 'ÌÇ§ÏõÄ ÌûàÏñ¥Î°úÏ¶à'}">
        <section class="bg-cover bg-repeat"
                 style="background-image: url('/images/bg26.png'); cursor: url('/images/cursor7.png') , auto; background-repeat: repeat; background-size: auto;">
    </c:when>
        <c:when test="${rq.loginedTeam eq 'SSG ÎûúÎçîÏä§'}">
        <section class="bg-cover bg-repeat"
                 style="background-image: url('/images/bg27.png'); cursor: url('/images/cursor1.png') 25 25, auto; background-repeat: repeat; background-size: auto;">
    </c:when>
        <c:when test="${rq.loginedTeam eq 'NC Îã§Ïù¥ÎÖ∏Ïä§'}">
        <section class="bg-cover bg-repeat"
         style="background-image: url('/images/bg28.png'); cursor: url('/images/cursor8.png') 25 25, auto; background-repeat: repeat; background-size: auto;">
    </c:when>
        <c:when test="${rq.loginedTeam eq 'KT ÏúÑÏ¶à'}">
        <section class="bg-cover bg-repeat"
                 style="background-image: url('/images/bg29.png'); cursor: url('/images/cursor9.png') 25 25, auto; background-repeat: repeat; background-size: auto;">
    </c:when>
        <c:when test="${rq.loginedTeam eq 'KIA ÌÉÄÏù¥Í±∞Ï¶à'}">
        <section class="bg-cover bg-repeat"
                 style="background-image: url('/images/bg30.png'); cursor: url('/images/cursor10.png') 25 25, auto; background-repeat: repeat; background-size: auto;">
    </c:when>
</c:choose>

<c:set var="team" value="${rq.loginedTeam}" />
<c:set var="shortTeam" value="${fn:substring(team, 0, 2)}" />

<%-- Í∏∞Î≥∏ ÏòÅÏÉÅ ID ÏÑ§Ï†ï --%>
<c:set var="videoId" value="OQpSpCIM5GE" />

<%-- ÌåÄÎ≥Ñ ÏòÅÏÉÅ ID Î∂ÑÍ∏∞ ÏÑ§Ï†ï --%>
<c:choose>
  <c:when test="${shortTeam == 'ÌïúÌôî'}">
    <c:set var="videoId" value="8TswlwWIV9c" />
  </c:when>
  <c:when test="${shortTeam == 'LG'}">
    <c:set var="videoId" value="ZP_p9sPPPjY" />
  </c:when>
  <c:when test="${shortTeam == 'Î°ØÎç∞'}">
    <c:set var="videoId" value="Pl_8gPuQLlc" />
  </c:when>
  <c:when test="${shortTeam == 'KI'}"> <%-- KIA --%>
    <c:set var="videoId" value="1tdthdeILno" />
  </c:when>
  <c:when test="${shortTeam == 'KT'}">
    <c:set var="videoId" value="0U-oOIdapss" />
  </c:when>
  <c:when test="${shortTeam == 'ÏÇºÏÑ±'}">
    <c:set var="videoId" value="TYjA8kguSts" />
  </c:when>
  <c:when test="${shortTeam == 'SS'}"> <%-- SSG --%>
    <c:set var="videoId" value="a2Er8gPMNzI" />
  </c:when>
  <c:when test="${shortTeam == 'ÎëêÏÇ∞'}">
    <c:set var="videoId" value="gs9wCs3lCRQ" />
  </c:when>
  <c:when test="${shortTeam == 'ÌÇ§ÏõÄ'}">
    <c:set var="videoId" value="kPivCYyNWx8" />
  </c:when>
  <c:when test="${shortTeam == 'NC'}">
    <c:set var="videoId" value="E-zSRbhAWhY" />
  </c:when>
</c:choose>
<%-- Hero Section --%>
<section class="hero">
  <div class="video-background">
    <iframe 
      src="https://www.youtube.com/embed/${videoId}?autoplay=1&mute=1&loop=1&playlist=${videoId}&controls=0&showinfo=0&rel=0"
      frameborder="0" allow="autoplay" allowfullscreen>
    </iframe>
  </div>
  <div class="content">
    <!-- Ïó¨Í∏∞Ïóê ÌéòÏù¥ÏßÄ ÎÇ¥Ïö© Ï∂îÍ∞Ä -->
  </div>
</section>
<%-- Î°úÍ∑∏Ïù∏Ìïú ÌåÄ Ïïû Îëê Í∏ÄÏûê Ï∂îÏ∂ú --%>
<c:set var="shortTeam" value="${fn:substring(rq.loginedTeam, 0, 2)}" />

<section data-aos="fade-up">
  <!-- Îâ¥Ïä§ Ïä¨ÎùºÏù¥Îçî -->
  <div class="section-title">üì∞ ${rq.loginedTeam != null ? rq.loginedTeam : ""} Í¥ÄÎ†® Îâ¥Ïä§</div>
  <div class="swiper swiper-section">
    <div class="swiper-wrapper">
      <c:forEach var="news" items="${breakingNews}">
        <c:if test="${fn:contains(news.title, team) || fn:contains(news.body, team)}">
          <div class="swiper-slide">
            <a href="${news.linkUrl}" target="_blank">
              <div class="news-card" style="background-image:url('${news.imgUrl != null ? news.imgUrl : "/images/default-news.png"}')">
                <div>${news.title}</div>
              </div>
            </a>
          </div>
        </c:if>
      </c:forEach>
    </div>
  </div>

  <!-- ÏµúÍ∑º Í≤ΩÍ∏∞ ÏòÅÏÉÅ -->
  <div class="section-title" style="margin-top: 40px;">üé¨ ${rq.loginedTeam != null ? rq.loginedTeam : ""} ÏµúÍ∑º Í≤ΩÍ∏∞ ÏòÅÏÉÅ</div>
  <div class="swiper swiper-section">
    <div class="swiper-wrapper">
      <c:forEach var="video" items="${videoIds3}">
        <div class="swiper-slide" style="width: 300px;">
          <div class="swiper-card" style="height: 250px; position: relative; border-radius: 8px; overflow: hidden;">
            <iframe src="https://www.youtube.com/embed/${video.id}" 
                    frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                    allowfullscreen 
                    style="width: 100%; height: 100%; display: block;">
            </iframe>
            <div style="
              position: absolute;
              bottom: 0;
              left: 0;
              width: 100%;
              padding: 10px;
              background: rgba(0, 0, 0, 0.6);
              color: white;
              font-weight: 600;
              font-size: 1rem;
              box-sizing: border-box;
            ">
              ${video.title}
            </div>
          </div>
        </div>
      </c:forEach>
    </div>
  </div>
</section>



<section data-aos="fade-up" >
  <div class="section-title">üìÖ Ïò§ÎäòÏùò ${rq.loginedTeam} ÏùºÏ†ï Î∞è ÏÑ†Ïàò ÌòÑÌô©</div>

  <%-- Í≤ΩÍ∏∞ ÏùºÏ†ï: Î°úÍ∑∏Ïù∏ ÌåÄ ÏúÑÏ£º --%>
  <div class="section-title" style="font-size: 1.2rem;">Í≤ΩÍ∏∞ ÏùºÏ†ï</div>
  <div class="swiper swiper-section" style="margin-bottom: 30px">
    <div class="swiper-wrapper">
      <c:forEach var="row" items="${naverBaseballSchedule}">
        <c:if test="${fn:contains(row['ÏôºÏ™ΩÌåÄÎ™Ö'], shortTeam) || fn:contains(row['Ïò§Î•∏Ï™ΩÌåÄÎ™Ö'], shortTeam)}">
          <div class="swiper-slide">
            <div class="swiper-card" style="background-color: white; color: black;">
              <div class="swiper-card-title">${row['ÏôºÏ™ΩÌåÄÎ™Ö']} (${row['ÏôºÏ™ΩÏÉÅÌÉúÎ∞èÌà¨Ïàò']}) VS ${row['Ïò§Î•∏Ï™ΩÌåÄÎ™Ö']} (${row['Ïò§Î•∏Ï™ΩÏÉÅÌÉúÎ∞èÌà¨Ïàò']})</div>
              <div>ÏãúÍ∞Ñ: ${row['ÏãúÍ∞Ñ']}</div>
              <div>Íµ¨Ïû•: ${row['Íµ¨Ïû•']}</div>
            </div>
          </div>
        </c:if>
      </c:forEach>
      <c:forEach var="row" items="${naverBaseballSchedule}">
        <c:if test="${!(fn:contains(row['ÏôºÏ™ΩÌåÄÎ™Ö'], shortTeam) || fn:contains(row['Ïò§Î•∏Ï™ΩÌåÄÎ™Ö'], shortTeam))}">
          <div class="swiper-slide">
            <div class="swiper-card">
              <div class="swiper-card-title">${row['ÏôºÏ™ΩÌåÄÎ™Ö']} (${row['ÏôºÏ™ΩÏÉÅÌÉúÎ∞èÌà¨Ïàò']}) VS ${row['Ïò§Î•∏Ï™ΩÌåÄÎ™Ö']} (${row['Ïò§Î•∏Ï™ΩÏÉÅÌÉúÎ∞èÌà¨Ïàò']})</div>
              <div>ÏãúÍ∞Ñ: ${row['ÏãúÍ∞Ñ']}</div>
              <div>Íµ¨Ïû•: ${row['Íµ¨Ïû•']}</div>
            </div>
          </div>
        </c:if>
      </c:forEach>
    </div>
  </div>

  <%-- Îì±Î°ù ÏÑ†Ïàò --%>
  <div class="section-title" style="font-size: 1.2rem;">üìå Îì±Î°ù ÏÑ†Ïàò</div>
  <div class="swiper swiper-section">
    <div class="swiper-wrapper">
      <c:forEach var="p" items="${registeredPlayers}">
        <%-- ÏÑ†ÏàòÎ≥Ñ ÌåÄ Ïª¨Îü¨ ÏÑ§Ï†ï --%>
        <c:set var="playerTeamColor" value="#f2d8b1" />
        <c:choose>
          <c:when test="${fn:contains(p.team, 'LG')}"><c:set var="playerTeamColor" value="#C30452" /></c:when>
          <c:when test="${fn:contains(p.team, 'ÎëêÏÇ∞')}"><c:set var="playerTeamColor" value="#1A1748" /></c:when>
          <c:when test="${fn:contains(p.team, 'SSG')}"><c:set var="playerTeamColor" value="#CE0E2D" /></c:when>
          <c:when test="${fn:contains(p.team, 'ÏÇºÏÑ±')}"><c:set var="playerTeamColor" value="#074CA1" /></c:when>
          <c:when test="${fn:contains(p.team, 'Î°ØÎç∞')}"><c:set var="playerTeamColor" value="#041E42" /></c:when>
          <c:when test="${fn:contains(p.team, 'ÌïúÌôî')}"><c:set var="playerTeamColor" value="#FC4E00" /></c:when>
          <c:when test="${fn:contains(p.team, 'KIA')}"><c:set var="playerTeamColor" value="#EA0029" /></c:when>
          <c:when test="${fn:contains(p.team, 'NC')}"><c:set var="playerTeamColor" value="#315288" /></c:when>
          <c:when test="${fn:contains(p.team, 'ÌÇ§ÏõÄ')}"><c:set var="playerTeamColor" value="#570514" /></c:when>
          <c:when test="${fn:contains(p.team, 'KT')}"><c:set var="playerTeamColor" value="#000000" /></c:when>
        </c:choose>

        <div class="swiper-slide">
          <div class="swiper-card" style="background-color: ${playerTeamColor}; color: white;">
            <div class="swiper-card-title">${p.name}</div>
            <div>Ìè¨ÏßÄÏÖò: ${p.position}</div>
            <div>ÌåÄ: ${p.team}</div>
          </div>
        </div>
      </c:forEach>
    </div>
  </div>

  <%-- ÎßêÏÜå ÏÑ†Ïàò --%>
  <div class="section-title" style="font-size: 1.2rem; margin-top: 30px;">‚ùå ÎßêÏÜå ÏÑ†Ïàò</div>
  <div class="swiper swiper-section">
    <div class="swiper-wrapper">
      <c:forEach var="p" items="${canceledPlayers}">
        <%-- ÏÑ†ÏàòÎ≥Ñ ÌåÄ Ïª¨Îü¨ ÏÑ§Ï†ï --%>
        <c:set var="playerTeamColor" value="#f2d8b1" />
        <c:choose>
          <c:when test="${fn:contains(p.team, 'LG')}"><c:set var="playerTeamColor" value="#C30452" /></c:when>
          <c:when test="${fn:contains(p.team, 'ÎëêÏÇ∞')}"><c:set var="playerTeamColor" value="#1A1748" /></c:when>
          <c:when test="${fn:contains(p.team, 'SSG')}"><c:set var="playerTeamColor" value="#CE0E2D" /></c:when>
          <c:when test="${fn:contains(p.team, 'ÏÇºÏÑ±')}"><c:set var="playerTeamColor" value="#074CA1" /></c:when>
          <c:when test="${fn:contains(p.team, 'Î°ØÎç∞')}"><c:set var="playerTeamColor" value="#041E42" /></c:when>
          <c:when test="${fn:contains(p.team, 'ÌïúÌôî')}"><c:set var="playerTeamColor" value="#FC4E00" /></c:when>
          <c:when test="${fn:contains(p.team, 'KIA')}"><c:set var="playerTeamColor" value="#EA0029" /></c:when>
          <c:when test="${fn:contains(p.team, 'NC')}"><c:set var="playerTeamColor" value="#315288" /></c:when>
          <c:when test="${fn:contains(p.team, 'ÌÇ§ÏõÄ')}"><c:set var="playerTeamColor" value="#570514" /></c:when>
          <c:when test="${fn:contains(p.team, 'KT')}"><c:set var="playerTeamColor" value="#000000" /></c:when>
        </c:choose>

        <div class="swiper-slide">
          <div class="swiper-card" style="background-color: ${playerTeamColor}; color: white;">
            <div class="swiper-card-title">${p.name}</div>
            <div>Ìè¨ÏßÄÏÖò: ${p.position}</div>
            <div>ÌåÄ: ${p.team}</div>
          </div>
        </div>
      </c:forEach>
    </div>
  </div>
</section>

<c:set var="teamColor" value="#f2d8b1" />
<c:choose>
  <c:when test="${shortTeam == 'LG'}"><c:set var="teamColor" value="#C30452" /></c:when>
  <c:when test="${shortTeam == 'ÎëêÏÇ∞'}"><c:set var="teamColor" value="#1A1748" /></c:when>
  <c:when test="${shortTeam == 'SS'}"><c:set var="teamColor" value="#CE0E2D" /></c:when>
  <c:when test="${shortTeam == 'ÏÇºÏÑ±'}"><c:set var="teamColor" value="#074CA1" /></c:when>
  <c:when test="${shortTeam == 'Î°ØÎç∞'}"><c:set var="teamColor" value="#041E42" /></c:when>
  <c:when test="${shortTeam == 'ÌïúÌôî'}"><c:set var="teamColor" value="#FC4E00" /></c:when>
  <c:when test="${shortTeam == 'KI'}"><c:set var="teamColor" value="#EA0029" /></c:when>
  <c:when test="${shortTeam == 'NC'}"><c:set var="teamColor" value="#315288" /></c:when>
  <c:when test="${shortTeam == 'ÌÇ§ÏõÄ'}"><c:set var="teamColor" value="#570514" /></c:when>
  <c:when test="${shortTeam == 'KT'}"><c:set var="teamColor" value="#000000" /></c:when>
</c:choose>
<%-- Î°úÍ∑∏Ïù∏/Î°úÍ∑∏ÏïÑÏõÉ --%>
<section data-aos="fade-up">
  <div class="btn-group">
    <c:if test="${!rq.isLogined()}">
      <button class="btn-action" style="background-color: ${teamColor};" onclick="location.href='../member/login'">üîê Î°úÍ∑∏Ïù∏</button>
      <button class="btn-action" style="background-color: ${teamColor};" onclick="location.href='../member/join'">üìù ÌöåÏõêÍ∞ÄÏûÖ</button>
    </c:if>
    <c:if test="${rq.isLogined()}">
      <button class="btn-action" style="background-color: ${teamColor};" onclick="if(confirm('Î°úÍ∑∏ÏïÑÏõÉ ÌïòÏãúÍ≤†ÏäµÎãàÍπå?')) location.href='../member/doLogout'">üö™ Î°úÍ∑∏ÏïÑÏõÉ</button>
    </c:if>
  </div>
</section>
</section>
<script>
  AOS.init();
  new Swiper('.swiper-section', {
    slidesPerView: 1.2,
    spaceBetween: 20,
    loop: false,
    autoplay: {
      delay: 4000,
    },
    breakpoints: {
      768: { slidesPerView: 2 },
      1024: { slidesPerView: 3 }
    }
  });
</script>
</body>
</html>